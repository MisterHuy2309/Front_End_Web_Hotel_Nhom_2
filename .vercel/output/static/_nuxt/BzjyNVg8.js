import{i as p,H as h,c as l,a,e as T,A as C,m as u,n,v as m,t as i,D as c,q as w,z as D,o as d}from"./D8Oq5PXF.js";import{_ as k}from"./DlAUqK2U.js";const S={class:"register-page min-h-screen flex items-center justify-center bg-white"},K={class:"register-container max-w-5xl w-full p-6 flex flex-col md:flex-row"},q={class:"register-form w-full md:w-1/2 pr-0 md:pr-8"},U={key:0,class:"text-red-500 text-xs"},V={key:0,class:"text-red-500 text-xs"},R={key:0,class:"text-red-500 text-xs"},P={key:0,class:"text-red-500 text-xs"},N={key:0,class:"text-red-500 text-xs"},I={class:"flex items-center space-x-4"},A={class:"inline-flex items-center"},B={class:"inline-flex items-center"},O={key:0,class:"text-red-500 text-xs"},j={key:0,class:"text-red-500 text-xs"},E={key:0,class:"text-red-500 text-xs"},F=["disabled"],M={__name:"Register",setup($){const v=D(),f=p(!1),g=p(""),y=p(""),t=h({}),s=p({email:"",tenTaiKhoan:"",matKhau:"",hoTen:"",soDienThoai:"",diaChi:"",ngaySinh:"",gioiTinh:"Nu",hinhAnhUrl:"",canCuocCongDan:"",ngayTao:new Date().toISOString()}),b=()=>{let r=!0;return t.hoTen="",t.canCuocCongDan="",t.soDienThoai="",t.diaChi="",t.ngaySinh="",t.email="",t.tenTaiKhoan="",t.matKhau="",s.value.hoTen||(t.hoTen="Full name is required",r=!1),s.value.canCuocCongDan?/^\d{9,12}$/.test(s.value.canCuocCongDan)||(t.canCuocCongDan="ID Card must be 9-12 digits",r=!1):(t.canCuocCongDan="ID Card is required",r=!1),s.value.soDienThoai?/^\d{10,11}$/.test(s.value.soDienThoai)||(t.soDienThoai="Phone number must be 10-11 digits",r=!1):(t.soDienThoai="Phone number is required",r=!1),s.value.diaChi||(t.diaChi="Address is required",r=!1),s.value.ngaySinh||(t.ngaySinh="Date of birth is required",r=!1),s.value.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.value.email)||(t.email="Invalid email format",r=!1):(t.email="Email is required",r=!1),s.value.tenTaiKhoan?s.value.tenTaiKhoan.length<5&&(t.tenTaiKhoan="Username must be at least 5 characters",r=!1):(t.tenTaiKhoan="Username is required",r=!1),s.value.matKhau?s.value.matKhau.length<6&&(t.matKhau="Password must be at least 6 characters",r=!1):(t.matKhau="Password is required",r=!1),r},x=async()=>{if(b())try{f.value=!0,g.value="",s.value.ngaySinh&&(s.value.ngaySinh=new Date(s.value.ngaySinh).toISOString()),s.value.ngayTao=new Date().toISOString();const r=await fetch("https://nhom2webkhachsan.runasp.net/api/allowanonymous/dangky",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.value)}),e=await r.json();r.ok?(g.value="Account registered successfully! Redirecting to login page...",y.value="success",console.log("Registration successful:",e),setTimeout(()=>{v.push("/login")},2e3)):(g.value=e.message||"Registration failed. Please check your information and try again.",y.value="error",console.error("Registration error:",e))}catch(r){console.error("Error during registration:",r),g.value="Registration failed. Please try again later.",y.value="error"}finally{f.value=!1}};return(r,e)=>(d(),l("div",S,[a("div",K,[a("div",q,[e[21]||(e[21]=T('<div class="text-center md:text-left mb-6" data-v-6ab5e924><div class="avatar-placeholder w-16 h-16 bg-gray-200 rounded-full mx-auto md:mx-0 mb-4" data-v-6ab5e924></div><h1 class="text-2xl font-semibold text-gray-800" data-v-6ab5e924>Create Customer Account</h1><p class="text-sm text-gray-600 mt-1" data-v-6ab5e924> Already have an account? <a href="/login" class="text-black hover:underline" data-v-6ab5e924>Log in</a></p></div>',1)),a("form",{onSubmit:C(x,["prevent"]),class:"space-y-4"},[a("div",null,[e[10]||(e[10]=a("label",{for:"name",class:"block text-sm text-gray-700 mb-1"},"Full Name",-1)),n(a("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>s.value.hoTen=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-gray-400 focus:border-gray-400"},null,512),[[m,s.value.hoTen]]),t.hoTen?(d(),l("span",U,i(t.hoTen),1)):u("",!0)]),a("div",null,[e[11]||(e[11]=a("label",{for:"idCard",class:"block text-sm text-gray-700 mb-1"},"ID Card",-1)),n(a("input",{type:"text",id:"idCard","onUpdate:modelValue":e[1]||(e[1]=o=>s.value.canCuocCongDan=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-gray-400 focus:border-gray-400"},null,512),[[m,s.value.canCuocCongDan]]),t.canCuocCongDan?(d(),l("span",V,i(t.canCuocCongDan),1)):u("",!0)]),a("div",null,[e[12]||(e[12]=a("label",{for:"phone",class:"block text-sm text-gray-700 mb-1"},"Phone Number",-1)),n(a("input",{type:"tel",id:"phone","onUpdate:modelValue":e[2]||(e[2]=o=>s.value.soDienThoai=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-gray-400 focus:border-gray-400"},null,512),[[m,s.value.soDienThoai]]),t.soDienThoai?(d(),l("span",R,i(t.soDienThoai),1)):u("",!0)]),a("div",null,[e[13]||(e[13]=a("label",{for:"address",class:"block text-sm text-gray-700 mb-1"},"Address",-1)),n(a("input",{type:"text",id:"address","onUpdate:modelValue":e[3]||(e[3]=o=>s.value.diaChi=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-gray-400 focus:border-gray-400"},null,512),[[m,s.value.diaChi]]),t.diaChi?(d(),l("span",P,i(t.diaChi),1)):u("",!0)]),a("div",null,[e[14]||(e[14]=a("label",{for:"dob",class:"block text-sm text-gray-700 mb-1"},"Date of Birth",-1)),n(a("input",{type:"date",id:"dob","onUpdate:modelValue":e[4]||(e[4]=o=>s.value.ngaySinh=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-gray-400 focus:border-gray-400"},null,512),[[m,s.value.ngaySinh]]),t.ngaySinh?(d(),l("span",N,i(t.ngaySinh),1)):u("",!0)]),a("div",null,[e[17]||(e[17]=a("label",{class:"block text-sm text-gray-700 mb-1"},"Gender",-1)),a("div",I,[a("label",A,[n(a("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=o=>s.value.gioiTinh=o),value:"Nam",class:"form-radio"},null,512),[[c,s.value.gioiTinh]]),e[15]||(e[15]=a("span",{class:"ml-2"},"Male",-1))]),a("label",B,[n(a("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=o=>s.value.gioiTinh=o),value:"Nu",class:"form-radio"},null,512),[[c,s.value.gioiTinh]]),e[16]||(e[16]=a("span",{class:"ml-2"},"Female",-1))])])]),a("div",null,[e[18]||(e[18]=a("label",{for:"email",class:"block text-sm text-gray-700 mb-1"},"Email",-1)),n(a("input",{type:"email",id:"email","onUpdate:modelValue":e[7]||(e[7]=o=>s.value.email=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-gray-400 focus:border-gray-400"},null,512),[[m,s.value.email]]),t.email?(d(),l("span",O,i(t.email),1)):u("",!0)]),a("div",null,[e[19]||(e[19]=a("label",{for:"username",class:"block text-sm text-gray-700 mb-1"},"Username",-1)),n(a("input",{type:"text",id:"username","onUpdate:modelValue":e[8]||(e[8]=o=>s.value.tenTaiKhoan=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-gray-400 focus:border-gray-400"},null,512),[[m,s.value.tenTaiKhoan]]),t.tenTaiKhoan?(d(),l("span",j,i(t.tenTaiKhoan),1)):u("",!0)]),a("div",null,[e[20]||(e[20]=a("label",{for:"password",class:"block text-sm text-gray-700 mb-1"},"Password",-1)),n(a("input",{type:"password",id:"password","onUpdate:modelValue":e[9]||(e[9]=o=>s.value.matKhau=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-gray-400 focus:border-gray-400"},null,512),[[m,s.value.matKhau]]),t.matKhau?(d(),l("span",E,i(t.matKhau),1)):u("",!0)]),a("div",null,[a("button",{type:"submit",class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium py-2 px-6 rounded-md transition",disabled:f.value},i(f.value?"Processing...":"Register"),9,F)]),g.value?(d(),l("div",{key:0,class:w(["mt-4 p-3 rounded-md",y.value==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},i(g.value),3)):u("",!0)],32)]),e[22]||(e[22]=a("div",{class:"hidden md:flex w-1/2 items-center justify-center"},[a("div",{class:"geometric-illustration"},[a("svg",{viewBox:"0 0 200 200",width:"300",height:"300"},[a("polygon",{points:"100,10 40,180 190,60 10,60 160,180",fill:"none",stroke:"#000","stroke-width":"1"})])])],-1))])]))}},G=k(M,[["__scopeId","data-v-6ab5e924"]]);export{G as default};
