import{_ as V}from"./D0eA31MR.js";import{f as $,r as l,l as A,K as z,g as K,c,a as n,k as j,p as N,b as i,F as x,j as F,x as G,w as r,n as w,h as O,i as h,o as u,d as s,t as e}from"./DPU0EzwG.js";import{T as R}from"./DJxtFw-C.js";import{_ as E}from"./DlAUqK2U.js";const H={class:"room-gallery"},J=["src"],Q={class:"sub-images"},W=["onClick"],X=["src"],q={class:"modal-content"},U=["src"],Y={class:"info-content"},Z={class:"room-title"},nn={class:"actions"},an={__name:"[maPhong]",setup(tn){const v=$();v.initializeDarkMode();const o=l({tienNghiList:[]}),p=l(!0),_=l(null),M=z(),{$api:L}=A(),B=M.params.maPhong,g=l([]),f=l([]),k=l(0),d=l(!1);K(async()=>{try{const t=await L.get(`http://nhom2webkhachsan.runasp.net/api/PhongWithTienNghi/${B}`);t.data?(o.value={...t.data,tienNghiList:JSON.parse(t.data.tienNghi)},g.value=[t.data.urlAnhChinh,t.data.urlAnhPhu1,t.data.urlAnhPhu2].filter(Boolean),f.value=g.value.slice(1)):_.value="Kh√¥ng t√¨m th·∫•y th√¥ng tin cho m√£ ph√≤ng n√†y."}catch(t){_.value=`L·ªói: ${t.message}`,console.error("L·ªói:",t)}finally{p.value=!1}});const b=t=>{k.value=t,d.value=!0},y=()=>{d.value=!1},D=async()=>{const t=window.location.href;try{await navigator.clipboard.writeText(t),alert("üì§ ƒê√£ sao ch√©p link ph√≤ng v√†o clipboard!")}catch{alert("‚ùå Sao ch√©p th·∫•t b·∫°i, vui l√≤ng th·ª≠ l·∫°i.")}};return(t,a)=>{const m=h("va-button"),P=V,I=h("va-card"),S=h("va-loading");return u(),c(x,null,[n("header",null,[i(R)]),n("div",{class:w(["room-details-container",{"dark-mode":O(v).isDarkMode}])},[n("div",H,[n("div",{class:"main-image",onClick:a[0]||(a[0]=C=>b(0))},[n("img",{src:g.value[0],alt:"·∫¢nh ch√≠nh",class:"gallery-img"},null,8,J)]),n("div",Q,[(u(!0),c(x,null,F(f.value,(C,T)=>(u(),c("div",{class:"sub-image",key:T,onClick:on=>b(T+1)},[n("img",{src:C,alt:"'·∫¢nh ph·ª• ' + (index + 1)",class:"gallery-img"},null,8,X)],8,W))),128))])]),d.value?(u(),c("div",{key:0,class:"image-modal",onClick:G(y,["self"])},[n("div",q,[n("img",{src:g.value[k.value],alt:"Ph√≥ng to ·∫£nh",class:"modal-img zoom-img"},null,8,U),i(m,{color:"danger",class:"close-button",onClick:y},{default:r(()=>a[1]||(a[1]=[s("X")])),_:1})])])):N("",!0),i(I,{class:"room-info",outlined:""},{default:r(()=>[n("div",Y,[n("h1",Z,e(o.value.loaiPhong)+" (M√£: "+e(o.value.maPhong)+")",1),n("p",null,[a[2]||(a[2]=n("strong",null,"üíµ Gi√°:",-1)),s(" "+e(o.value.giaPhong)+" VND",1)]),n("p",null,[a[3]||(a[3]=n("strong",null,"üè¢ T·∫ßng:",-1)),s(" "+e(o.value.tang),1)]),n("p",null,[a[4]||(a[4]=n("strong",null,"üõèÔ∏è Ki·ªÉu gi∆∞·ªùng:",-1)),s(" "+e(o.value.kieuGiuong),1)]),n("p",null,[a[5]||(a[5]=n("strong",null,"üìù M√¥ t·∫£:",-1)),s(" "+e(o.value.moTa),1)]),n("p",null,[a[6]||(a[6]=n("strong",null,"üì∂ Ti·ªán nghi:",-1)),s(" "+e(o.value.tienNghiList.join(", ")),1)]),n("p",null,[a[7]||(a[7]=n("strong",null,"üî• Tr·∫°ng th√°i:",-1)),n("span",{class:w(o.value.tinhTrang==="1"?"status-available":"status-unavailable")},e(o.value.tinhTrang==="1"?"C√≤n tr·ªëng":"ƒê√£ ƒë·∫∑t"),3)])]),n("div",nn,[i(m,{disabled:o.value.tinhTrang!=="1",color:"primary",class:"book-button"},{default:r(()=>[i(P,{to:{name:"DatPhong",params:{maPhong:o.value.maPhong}},class:"link-inside-button"},{default:r(()=>a[8]||(a[8]=[s(" üì© ƒê·∫∑t ph√≤ng ")])),_:1},8,["to"])]),_:1},8,["disabled"]),i(m,{color:"secondary",class:"share-button",onClick:D},{default:r(()=>a[9]||(a[9]=[s(" üì§ Chia s·∫ª ph√≤ng ")])),_:1}),i(P,{to:"/Phong",class:"back-button"},{default:r(()=>a[10]||(a[10]=[s("Quay l·∫°i danh s√°ch ph√≤ng")])),_:1})])]),_:1})],2),p.value?(u(),j(S,{key:0})):N("",!0)],64)}}},un=E(an,[["__scopeId","data-v-68d31b05"]]);export{un as default};
