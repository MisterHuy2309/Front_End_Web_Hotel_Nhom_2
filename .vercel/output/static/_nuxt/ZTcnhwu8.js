import{u as C,a as _}from"./Bsxie3s2.js";import{i as o,c as h,b as a,w as l,f as t,o as v,d as m,g as S,m as f,t as k,a as y,k as T}from"./D8Oq5PXF.js";import{_ as D}from"./DlAUqK2U.js";const I={class:"login-container"},P={key:1,class:"mt-4"},M={style:{"white-space":"pre-wrap"}},Q={__name:"DangNhapPhu",setup(U){const r=o(""),c=o(""),d=o(!1),s=o(""),n=o(""),V=C(),b=async()=>{s.value="",n.value="",d.value=!0;const g=await V.login(r.value,c.value);if(d.value=!1,g){{const e=_("token").value,i=_("role").value,u=_("userId").value;alert(`Đăng nhập thành công!
Token: `+e+`
Vai trò: `+i+`
Mã khách hàng: `+u)}try{const e=await T.get("/xacthuc/profile");n.value=JSON.stringify(e.data,null,2)}catch{n.value="Không lấy được thông tin người dùng!"}}else s.value="Sai tài khoản hoặc mật khẩu!"};return(g,e)=>{const i=t("va-card-title"),u=t("va-input"),w=t("va-alert"),x=t("va-button"),N=t("va-card-content"),B=t("va-card");return v(),h("div",I,[a(B,{class:"login-card",outlined:""},{default:l(()=>[a(i,null,{default:l(()=>e[2]||(e[2]=[m("Đăng nhập")])),_:1,__:[2]}),a(N,null,{default:l(()=>[a(u,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=p=>r.value=p),label:"Tên tài khoản",class:"mb-3"},null,8,["modelValue"]),a(u,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=p=>c.value=p),label:"Mật khẩu",type:"password",class:"mb-3"},null,8,["modelValue"]),s.value?(v(),S(w,{key:0,color:"danger",class:"mb-2"},{default:l(()=>[m(k(s.value),1)]),_:1})):f("",!0),a(x,{loading:d.value,color:"primary",onClick:b,block:""},{default:l(()=>e[3]||(e[3]=[m(" Đăng nhập ")])),_:1,__:[3]},8,["loading"]),n.value?(v(),h("div",P,[e[4]||(e[4]=y("h4",null,"Thông tin người dùng:",-1)),y("pre",M,k(n.value),1)])):f("",!0)]),_:1})]),_:1})])}}},L=D(Q,[["__scopeId","data-v-a0fa9e75"]]);export{L as default};
