import{r as s,l as x,c as a,a as e,m as c,n as b,p as u,v as d,s as k,q as T,F as U,j as D,t as p,o as i}from"./GwSKdg7n.js";import{_ as H}from"./DlAUqK2U.js";const M={class:"profile-container"},P={class:"tabs"},L={key:0,class:"form-section"},O={class:"form-grid"},B={class:"form-group"},q=["readonly"],E={class:"form-group"},$=["readonly"],F={class:"form-group"},G=["readonly"],I={class:"form-group"},j=["readonly"],z={class:"form-group full-width"},A=["readonly"],K={key:0,class:"otp-group"},R={class:"form-actions"},J={key:1,type:"submit",class:"btn-primary"},Q={key:1,class:"history-section"},W={class:"filters"},X={class:"history-table"},Y={key:2,class:"success-msg"},Z={__name:"Profile",setup(ee){const v=s("info"),r=s(!1),m=s(!1),h=s(""),f=s(""),g=s(""),n=s({fullName:"Nguyễn Văn A",email:"nguyenvana@gmail.com",phone:"+84987654321",idNumber:"012345678901",address:"123 Võ Nguyên Giáp, Đà Nẵng"}),N=()=>{r.value=!0,m.value=!0},_=()=>{f.value=(Math.floor(Math.random()*9e5)+1e5).toString(),alert(`Mã OTP của bạn là: ${f.value} (demo)`)},V=()=>{if(m.value&&h.value!==f.value){alert("Mã OTP không chính xác hoặc đã hết hạn");return}r.value=!1,m.value=!1,g.value="✅ Thông tin đã được cập nhật thành công!"},o=s({keyword:"",type:"",time:""}),C=s([{id:1,name:"Phòng Deluxe",type:"room",date:"2024-04-01",status:"Hoàn tất",price:15e5},{id:2,name:"Spa thư giãn",type:"service",date:"2024-04-02",status:"Hoàn tất",price:4e5},{id:3,name:"Phòng Superior",type:"room",date:"2024-03-20",status:"Đang xử lý",price:12e5},{id:4,name:"Tour Bà Nà Hills",type:"service",date:"2024-03-15",status:"Hoàn tất",price:8e5}]),w=x(()=>C.value.filter(y=>{const t=y.name.toLowerCase().includes(o.value.keyword.toLowerCase()),l=o.value.type?y.type===o.value.type:!0,S=o.value.time?(Date.now()-new Date(y.date).getTime())/(1e3*3600*24)<=parseInt(o.value.time):!0;return t&&l&&S}));return(y,t)=>(i(),a("div",M,[t[19]||(t[19]=e("h2",null,"👤 Hồ Sơ Cá Nhân",-1)),e("div",P,[e("button",{class:b({active:v.value==="info"}),onClick:t[0]||(t[0]=l=>v.value="info")},"Thông tin cá nhân",2),e("button",{class:b({active:v.value==="history"}),onClick:t[1]||(t[1]=l=>v.value="history")},"Lịch sử sử dụng",2)]),v.value==="info"?(i(),a("div",L,[e("form",{onSubmit:k(V,["prevent"])},[e("div",O,[e("div",B,[t[11]||(t[11]=e("label",null,"Họ và tên",-1)),u(e("input",{readonly:!r.value,type:"text","onUpdate:modelValue":t[2]||(t[2]=l=>n.value.fullName=l)},null,8,q),[[d,n.value.fullName]])]),e("div",E,[t[12]||(t[12]=e("label",null,"Email",-1)),u(e("input",{readonly:!r.value,type:"email","onUpdate:modelValue":t[3]||(t[3]=l=>n.value.email=l)},null,8,$),[[d,n.value.email]])]),e("div",F,[t[13]||(t[13]=e("label",null,"Số điện thoại",-1)),u(e("input",{readonly:!r.value,type:"tel","onUpdate:modelValue":t[4]||(t[4]=l=>n.value.phone=l)},null,8,G),[[d,n.value.phone]])]),e("div",I,[t[14]||(t[14]=e("label",null,"Số CCCD/Hộ chiếu",-1)),u(e("input",{readonly:!r.value,type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>n.value.idNumber=l)},null,8,j),[[d,n.value.idNumber]])]),e("div",z,[t[15]||(t[15]=e("label",null,"Địa chỉ liên lạc",-1)),u(e("input",{readonly:!r.value,type:"text","onUpdate:modelValue":t[6]||(t[6]=l=>n.value.address=l)},null,8,A),[[d,n.value.address]])])]),m.value?(i(),a("div",K,[u(e("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=l=>h.value=l),placeholder:"Nhập mã OTP..."},null,512),[[d,h.value]]),e("button",{type:"button",onClick:_,class:"btn-secondary"},"Gửi OTP")])):c("",!0),e("div",R,[r.value?(i(),a("button",J,"Lưu")):(i(),a("button",{key:0,onClick:k(N,["prevent"]),class:"btn-secondary"},"Sửa thông tin"))])],32)])):c("",!0),v.value==="history"?(i(),a("div",Q,[e("div",W,[u(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>o.value.keyword=l),placeholder:"Tìm theo tên dịch vụ/phòng..."},null,512),[[d,o.value.keyword]]),u(e("select",{"onUpdate:modelValue":t[9]||(t[9]=l=>o.value.type=l)},t[16]||(t[16]=[e("option",{value:""},"Tất cả",-1),e("option",{value:"room"},"Đặt phòng",-1),e("option",{value:"service"},"Dịch vụ",-1)]),512),[[T,o.value.type]]),u(e("select",{"onUpdate:modelValue":t[10]||(t[10]=l=>o.value.time=l)},t[17]||(t[17]=[e("option",{value:""},"Thời gian",-1),e("option",{value:"7"},"7 ngày qua",-1),e("option",{value:"30"},"Tháng này",-1)]),512),[[T,o.value.time]])]),e("table",X,[t[18]||(t[18]=e("thead",null,[e("tr",null,[e("th",null,"Tên"),e("th",null,"Loại"),e("th",null,"Ngày"),e("th",null,"Trạng thái"),e("th",null,"Chi phí")])],-1)),e("tbody",null,[(i(!0),a(U,null,D(w.value,l=>(i(),a("tr",{key:l.id},[e("td",null,p(l.name),1),e("td",null,p(l.type),1),e("td",null,p(l.date),1),e("td",null,p(l.status),1),e("td",null,p(l.price.toLocaleString())+" VND",1)]))),128))])])])):c("",!0),g.value?(i(),a("div",Y,p(g.value),1)):c("",!0)]))}},oe=H(Z,[["__scopeId","data-v-c5d783a5"]]);export{oe as default};
