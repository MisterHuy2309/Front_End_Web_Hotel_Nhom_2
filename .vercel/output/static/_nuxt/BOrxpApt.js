import{r as g,K as f,g as y,c as o,e as k,m as P,F as c,j as p,s as b,a,t as s,d as i,o as d,n as x}from"./GwSKdg7n.js";import{_ as N}from"./DlAUqK2U.js";const S={class:"room-map"},C={class:"floor-label"},w={class:"floor-grid"},D=["onClick"],R={class:"room-number"},T={class:"room-type"},V={class:"modal-content animate__animated animate__zoomIn"},L={class:"modal-left"},B=["src"],I={class:"modal-right"},K={class:"room-details"},M={__name:"RoomMap",setup($){const n=g(null),r=g([]),m=g([]),{$api:h}=f();y(async()=>{try{const t=await h.get("http://nhom2webkhachsan.runasp.net/api/PhongWithTienNghi");r.value=t.data.map(e=>({...e,tienNghiList:JSON.parse(e.tienNghi),shortType:e.loaiPhong.replace(" Room",""),typeClass:e.loaiPhong.includes("Standard")?"standard":e.loaiPhong.includes("Deluxe")?"deluxe":e.loaiPhong.includes("Suite")?"suite":"dorm"})),m.value=[...new Set(r.value.map(e=>e.tang))].sort((e,l)=>e-l)}catch(t){console.error("Lỗi khi lấy dữ liệu phòng:",t)}});const v=t=>r.value.filter(e=>e.tang===t),_=t=>{n.value=t};return(t,e)=>(d(),o("div",S,[e[8]||(e[8]=k('<h2 class="heading animate__animated animate__fadeInDown" data-v-b4e3d8a1>🗺️ Sơ Đồ Phòng Khách Sạn OceanView</h2><div class="legend" data-v-b4e3d8a1><span class="legend-item standard" data-v-b4e3d8a1>Standard</span><span class="legend-item deluxe" data-v-b4e3d8a1>Deluxe</span><span class="legend-item suite" data-v-b4e3d8a1>Suite</span><span class="legend-item dorm" data-v-b4e3d8a1>Dorm</span></div>',2)),(d(!0),o(c,null,p(m.value,l=>(d(),o("div",{key:l,class:"floor animate__animated animate__fadeInUp"},[a("h3",C,"Tầng "+s(l),1),a("div",w,[(d(!0),o(c,null,p(v(l),u=>(d(),o("div",{key:u.maPhong,class:x(["room",u.typeClass]),onClick:F=>_(u)},[a("span",R,s(u.maPhong),1),a("span",T,s(u.shortType),1)],10,D))),128))])]))),128)),n.value?(d(),o("div",{key:0,class:"modal",onClick:e[1]||(e[1]=b(l=>n.value=null,["self"]))},[a("div",V,[a("div",L,[a("img",{src:n.value.urlAnhChinh,alt:"Room image"},null,8,B)]),a("div",I,[a("h2",null,s(n.value.loaiPhong)+" ("+s(n.value.maPhong)+")",1),a("ul",K,[a("li",null,[e[2]||(e[2]=a("strong",null,"Loại:",-1)),i(" "+s(n.value.loaiPhong),1)]),a("li",null,[e[3]||(e[3]=a("strong",null,"Giường:",-1)),i(" "+s(n.value.kieuGiuong),1)]),a("li",null,[e[4]||(e[4]=a("strong",null,"View:",-1)),i(" "+s(n.value.view||"Không xác định"),1)]),a("li",null,[e[5]||(e[5]=a("strong",null,"Diện tích:",-1)),i(" "+s(n.value.dienTich||"Không xác định")+" m²",1)]),a("li",null,[e[6]||(e[6]=a("strong",null,"Tiện ích:",-1)),i(" "+s(n.value.tienNghiList.join(", ")),1)]),a("li",null,[e[7]||(e[7]=a("strong",null,"Giá:",-1)),i(" "+s(n.value.giaPhong.toLocaleString())+" VND",1)])]),a("button",{onClick:e[0]||(e[0]=l=>n.value=null)},"Đóng")])])])):P("",!0)]))}},z=N(M,[["__scopeId","data-v-b4e3d8a1"]]);export{z as default};
