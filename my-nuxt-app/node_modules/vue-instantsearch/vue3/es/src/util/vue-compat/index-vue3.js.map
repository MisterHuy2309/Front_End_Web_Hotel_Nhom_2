{"version":3,"file":"index-vue3.js","sources":["../../../../../src/util/vue-compat/index-vue3.js"],"sourcesContent":["import * as Vue from 'vue';\n\nconst isVue2 = false;\nconst isVue3 = true;\nconst Vue2 = undefined;\n\nexport { createApp, createSSRApp, h, version, nextTick } from 'vue';\nexport { Vue, Vue2, isVue2, isVue3 };\n\nexport function renderCompat(fn) {\n  function h(tag, props, ...childrenArray) {\n    const children = childrenArray.length > 0 ? childrenArray : undefined;\n    if (\n      typeof props === 'object' &&\n      (props.attrs || props.props || props.scopedSlots || props.on)\n    ) {\n      // In vue 3, we no longer wrap with `attrs` or `props` key.\n      const onPropKeys = Object.keys(props.on || {});\n      const flatProps = Object.assign(\n        {},\n        props,\n        props.attrs,\n        props.props,\n        onPropKeys.reduce((acc, key) => {\n          // eslint-disable-next-line no-param-reassign\n          acc[`on${key[0].toUpperCase()}${key.slice(1)}`] = props.on[key];\n          return acc;\n        }, {})\n      );\n      delete flatProps.attrs;\n      delete flatProps.props;\n      delete flatProps.scopedSlots;\n      onPropKeys.forEach((key) => delete flatProps.on[key]);\n      if (flatProps.on && Object.keys(flatProps.on).length === 0) {\n        delete flatProps.on;\n      }\n\n      return Vue.h(\n        tag,\n        flatProps,\n        props.scopedSlots\n          ? Object.assign({ default: () => children }, props.scopedSlots)\n          : children\n      );\n    }\n\n    return Vue.h(tag, props, children);\n  }\n\n  return function () {\n    return fn.call(this, h);\n  };\n}\n\nexport function getDefaultSlot(component) {\n  const $slots = component.$slots || component.slots;\n\n  if (typeof $slots.default === 'function') {\n    // Vue 3\n    return $slots.default();\n  }\n\n  // Vue 3 with @vue/compat\n  return $slots.default;\n}\n\nexport function getScopedSlot(component, name) {\n  return (component.$slots || component.slots || {})[name];\n}\n"],"names":["isVue2","isVue3","renderCompat","fn","h","tag","props","const","children","childrenArray","length","undefined","attrs","scopedSlots","on","onPropKeys","Object","keys","flatProps","assign","reduce","acc","key","toUpperCase","slice","forEach","Vue","default","call","this","getDefaultSlot","component","$slots","slots","getScopedSlot","name"],"mappings":"8HAEMA,GAAS,EACTC,GAAS,EAMR,SAASC,EAAaC,GAC3B,SAASC,EAAEC,EAAKC,iEACdC,IAAMC,EAAWC,EAAcC,OAAS,EAAID,OAAgBE,EAC5D,GACmB,iBAAVL,IACNA,EAAMM,OAASN,EAAMA,OAASA,EAAMO,aAAeP,EAAMQ,IAC1D,CAEAP,IAAMQ,EAAaC,OAAOC,KAAKX,EAAMQ,IAAM,IACrCI,EAAYF,OAAOG,OACvB,GACAb,EACAA,EAAMM,MACNN,EAAMA,MACNS,EAAWK,gBAAQC,EAAKC,GAGtB,OADAD,OAASC,EAAI,GAAGC,cAAgBD,EAAIE,MAAM,IAAQlB,EAAMQ,GAAGQ,GACpDD,GACN,KAUL,cAROH,EAAUN,aACVM,EAAUZ,aACVY,EAAUL,YACjBE,EAAWU,iBAASH,iBAAeJ,EAAUJ,GAAGQ,KAC5CJ,EAAUJ,IAA2C,IAArCE,OAAOC,KAAKC,EAAUJ,IAAIJ,eACrCQ,EAAUJ,GAGZY,EACLrB,EACAa,EACAZ,EAAMO,YACFG,OAAOG,OAAO,CAAEQ,0BAAenB,IAAYF,EAAMO,aACjDL,GAIR,OAAOkB,EAAMrB,EAAKC,EAAOE,GAG3B,OAAO,WACL,OAAOL,EAAGyB,KAAKC,KAAMzB,IAIlB,SAAS0B,EAAeC,GAC7BxB,IAAMyB,EAASD,EAAUC,QAAUD,EAAUE,MAE7C,MAA8B,mBAAnBD,EAAOL,QAETK,EAAOL,UAITK,EAAOL,QAGT,SAASO,EAAcH,EAAWI,GACvC,OAAQJ,EAAUC,QAAUD,EAAUE,OAAS,IAAIE"}