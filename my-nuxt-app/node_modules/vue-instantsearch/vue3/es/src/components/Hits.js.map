{"version":3,"file":"Hits.js","sources":["../../../../src/components/Hits.js"],"sourcesContent":["import { createHitsComponent } from 'instantsearch-ui-components';\nimport { connectHitsWithInsights } from 'instantsearch.js/es/connectors';\n\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { getScopedSlot, renderCompat } from '../util/vue-compat';\n\nexport default {\n  name: 'AisHits',\n  mixins: [\n    createWidgetMixin(\n      {\n        connector: connectHitsWithInsights,\n      },\n      {\n        $$widgetType: 'ais.hits',\n      }\n    ),\n    createSuitMixin({ name: 'Hits' }),\n  ],\n  props: {\n    showBanner: {\n      type: Boolean,\n      default: true,\n    },\n    escapeHTML: {\n      type: Boolean,\n      default: true,\n    },\n    transformItems: {\n      type: Function,\n      default: undefined,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        showBanner: this.showBanner,\n        escapeHTML: this.escapeHTML,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  render: renderCompat(function (h) {\n    if (!this.state) {\n      return null;\n    }\n\n    const defaultSlot = getScopedSlot(this, 'default');\n    const itemSlot = getScopedSlot(this, 'item');\n    const bannerSlot = getScopedSlot(this, 'banner');\n\n    const itemComponent = ({\n      hit,\n      index,\n      onClick,\n      onAuxClick,\n      // We don't want to pass the Preact key as a prop\n      key: _key,\n      ...rootProps\n    }) => {\n      return h(\n        'li',\n        {\n          key: hit.objectID,\n          attrs: rootProps,\n          on: {\n            click: onClick,\n            auxclick: onAuxClick,\n          },\n        },\n        [\n          (itemSlot &&\n            itemSlot({\n              item: hit,\n              index,\n              insights: this.state.insights,\n              sendEvent: this.state.sendEvent,\n            })) ||\n            `objectID: ${hit.objectID}, index: ${index}`,\n        ]\n      );\n    };\n\n    // We only want to render the default slot\n    // if no other slots are defined\n    if (!itemSlot && !bannerSlot && defaultSlot) {\n      return h(\n        'div',\n        {\n          attrs: {\n            class: this.suit(),\n          },\n        },\n        [\n          defaultSlot({\n            banner: this.state.banner,\n            items: this.state.items,\n            insights: this.state.insights,\n            sendEvent: this.state.sendEvent,\n          }),\n        ]\n      );\n    }\n\n    return h(createHitsComponent({ createElement: h }), {\n      hits: this.state.items,\n      itemComponent,\n      banner: this.showBanner ? this.state.banner : undefined,\n      bannerComponent: bannerSlot,\n      sendEvent: this.state.sendEvent,\n      classNames: this.classNames && {\n        root: this.classNames['ais-Hits'],\n        list: this.classNames['ais-Hits-list'],\n        item: this.classNames['ais-Hits-item'],\n        bannerRoot: this.classNames['ais-Hits-banner'],\n        bannerImage: this.classNames['ais-Hits-banner-image'],\n        bannerLink: this.classNames['ais-Hits-banner-link'],\n      },\n    });\n  }),\n};\n"],"names":["name","mixins","createWidgetMixin","connector","connectHitsWithInsights","$$widgetType","createSuitMixin","props","showBanner","type","Boolean","default","escapeHTML","transformItems","Function","undefined","computed","widgetParams","this","render","renderCompat","h","state","const","defaultSlot","getScopedSlot","itemSlot","bannerSlot","createHitsComponent","createElement","hits","items","key","hit","objectID","attrs","rootProps","on","click","onClick","auxclick","onAuxClick","item","index","insights","sendEvent","banner","bannerComponent","classNames","root","list","bannerRoot","bannerImage","bannerLink","class","suit"],"mappings":"iWAOe,CACbA,KAAM,UACNC,OAAQ,CACNC,EACE,CACEC,UAAWC,GAEb,CACEC,aAAc,aAGlBC,EAAgB,CAAEN,KAAM,UAE1BO,MAAO,CACLC,WAAY,CACVC,KAAMC,QACNC,SAAS,GAEXC,WAAY,CACVH,KAAMC,QACNC,SAAS,GAEXE,eAAgB,CACdJ,KAAMK,SACNH,aAASI,IAGbC,SAAU,CACRC,wBACE,MAAO,CACLT,WAAYU,KAAKV,WACjBI,WAAYM,KAAKN,WACjBC,eAAgBK,KAAKL,kBAI3BM,OAAQC,EAAa,SAAUC,cAC7B,IAAKH,KAAKI,MACR,OAAO,KAGTC,IAAMC,EAAcC,EAAcP,KAAM,WAClCQ,EAAWD,EAAcP,KAAM,QAC/BS,EAAaF,EAAcP,KAAM,UAoCvC,OAAKQ,GAAaC,IAAcH,EAmBzBH,EAAEO,EAAoB,CAAEC,cAAeR,IAAM,CAClDS,KAAMZ,KAAKI,MAAMS,qQA7CjB,OAAOV,EACL,KACA,CACEW,IAAKC,EAAIC,SACTC,MAAOC,EACPC,GAAI,CACFC,MAAOC,EACPC,SAAUC,IAGd,CACGf,GACCA,EAAS,CACPgB,KAAMT,QACNU,EACAC,SAAU1B,EAAKI,MAAMsB,SACrBC,UAAW3B,EAAKI,MAAMuB,0BAEXZ,EAAIC,qBAAoBS,KA6B3CG,OAAQ5B,KAAKV,WAAaU,KAAKI,MAAMwB,YAAS/B,EAC9CgC,gBAAiBpB,EACjBkB,UAAW3B,KAAKI,MAAMuB,UACtBG,WAAY9B,KAAK8B,YAAc,CAC7BC,KAAM/B,KAAK8B,WAAW,YACtBE,KAAMhC,KAAK8B,WAAW,iBACtBN,KAAMxB,KAAK8B,WAAW,iBACtBG,WAAYjC,KAAK8B,WAAW,mBAC5BI,YAAalC,KAAK8B,WAAW,yBAC7BK,WAAYnC,KAAK8B,WAAW,2BA9BvB3B,EACL,MACA,CACEc,MAAO,CACLmB,MAAOpC,KAAKqC,SAGhB,CACE/B,EAAY,CACVsB,OAAQ5B,KAAKI,MAAMwB,OACnBf,MAAOb,KAAKI,MAAMS,MAClBa,SAAU1B,KAAKI,MAAMsB,SACrBC,UAAW3B,KAAKI,MAAMuB"}