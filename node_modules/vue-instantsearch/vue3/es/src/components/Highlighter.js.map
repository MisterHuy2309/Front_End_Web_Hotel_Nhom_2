{"version":3,"file":"Highlighter.js","sources":["../../../../src/components/Highlighter.js"],"sourcesContent":["import { createHighlightComponent } from 'instantsearch-ui-components';\nimport {\n  getHighlightedParts,\n  getPropertyByPath,\n  unescape,\n} from 'instantsearch.js/es/lib/utils';\n\nimport { createElement, Fragment } from '../util/pragma';\n\nconst Highlight = createHighlightComponent({ createElement, Fragment });\n\nexport default {\n  name: 'AisHighlighter',\n  props: {\n    hit: {\n      type: Object,\n      required: true,\n    },\n    attribute: {\n      type: String,\n      required: true,\n    },\n    highlightedTagName: {\n      type: String,\n      default: 'mark',\n    },\n    suit: {\n      type: Function,\n      required: true,\n    },\n    highlightProperty: {\n      type: String,\n      required: true,\n    },\n    preTag: {\n      type: String,\n      required: true,\n    },\n    postTag: {\n      type: String,\n      required: true,\n    },\n  },\n  render() {\n    const property =\n      getPropertyByPath(this.hit[this.highlightProperty], this.attribute) || [];\n    const properties = Array.isArray(property) ? property : [property];\n\n    const parts = properties.map((singleValue) =>\n      getHighlightedParts(unescape(singleValue.value || '')).map(\n        ({ value, isHighlighted }) => ({\n          // We have to do this because Vue gets rid of TextNodes with a single white space\n          value: value === ' ' ? '  ' : value,\n          isHighlighted,\n        })\n      )\n    );\n\n    return createElement(Highlight, {\n      classNames: {\n        root: this.suit(),\n        highlighted: this.suit('highlighted'),\n      },\n      highlightedTagName: this.highlightedTagName,\n      nonHighlightedTagName: Fragment,\n      parts,\n    });\n  },\n};\n"],"names":["const","Highlight","createHighlightComponent","createElement","Fragment","name","props","hit","type","Object","required","attribute","String","highlightedTagName","default","suit","Function","highlightProperty","preTag","postTag","render","property","getPropertyByPath","this","parts","Array","isArray","map","singleValue","getHighlightedParts","unescape","value","classNames","root","highlighted","nonHighlightedTagName"],"mappings":"0QASAA,IAAMC,EAAYC,EAAyB,eAAEC,WAAeC,kBAE7C,CACbC,KAAM,iBACNC,MAAO,CACLC,IAAK,CACHC,KAAMC,OACNC,UAAU,GAEZC,UAAW,CACTH,KAAMI,OACNF,UAAU,GAEZG,mBAAoB,CAClBL,KAAMI,OACNE,QAAS,QAEXC,KAAM,CACJP,KAAMQ,SACNN,UAAU,GAEZO,kBAAmB,CACjBT,KAAMI,OACNF,UAAU,GAEZQ,OAAQ,CACNV,KAAMI,OACNF,UAAU,GAEZS,QAAS,CACPX,KAAMI,OACNF,UAAU,IAGdU,kBACEpB,IAAMqB,EACJC,EAAkBC,KAAKhB,IAAIgB,KAAKN,mBAAoBM,KAAKZ,YAAc,GAGnEa,GAFaC,MAAMC,QAAQL,GAAYA,EAAW,CAACA,IAEhCM,aAAKC,UAC5BC,EAAoBC,EAASF,EAAYG,OAAS,KAAKJ,oCACtB,CAE7BI,MAAiB,MAAVA,EAAgB,KAAOA,qCAMpC,OAAO5B,EAAcF,EAAW,CAC9B+B,WAAY,CACVC,KAAMV,KAAKR,OACXmB,YAAaX,KAAKR,KAAK,gBAEzBF,mBAAoBU,KAAKV,mBACzBsB,sBAAuB/B,QACvBoB"}