{"version":3,"file":"useLogin.mjs","sources":["../../../../composables/useLogin.js"],"sourcesContent":["import { ref, onMounted } from 'vue'\r\n\r\nexport function useLogin() {\r\n  const email = ref('')\r\n  const facebookName = ref('')\r\n  const formEmail = ref('')\r\n  const formPassword = ref('')\r\n  const showPassword = ref(false)\r\n\r\n  const images = [\r\n    'https://i.pinimg.com/474x/a0/fb/38/a0fb38a030da2a14a39767bfd21d48d2.jpg',\r\n    'https://i.pinimg.com/474x/d4/54/76/d45476a670996cd4ae936d99ad0b24e2.jpg',\r\n    'https://i.pinimg.com/474x/f7/41/c8/f741c8636021870390f124e5acaa55e4.jpg'\r\n  ]\r\n  const currentImageIndex = ref(0)\r\n\r\n  const togglePassword = () => {\r\n    showPassword.value = !showPassword.value\r\n  }\r\n\r\n  const emailLogin = () => {\r\n    if (formEmail.value === 'admin@example.com' && formPassword.value === 'password') {\r\n      email.value = `Đăng nhập email: ${formEmail.value}`\r\n      facebookName.value = ''\r\n    } else {\r\n      alert('Sai email hoặc mật khẩu!')\r\n    }\r\n  }\r\n\r\n  const handleCredentialResponse = (response) => {\r\n    const payload = JSON.parse(atob(response.credential.split('.')[1]))\r\n    email.value = `Đăng nhập bằng Google: ${payload.email}`\r\n    facebookName.value = ''\r\n  }\r\n\r\n  const facebookLogin = () => {\r\n    FB.login((response) => {\r\n      if (response.status === 'connected') {\r\n        FB.api('/me', { fields: 'name,email' }, (userInfo) => {\r\n          facebookName.value = `Đăng nhập Facebook: ${userInfo.name}`\r\n          email.value = `Email: ${userInfo.email}`\r\n        })\r\n      } else {\r\n        facebookName.value = 'Chưa đăng nhập Facebook'\r\n      }\r\n    }, { scope: 'email' })\r\n  }\r\n\r\n  onMounted(() => {\r\n    setInterval(() => {\r\n      currentImageIndex.value = (currentImageIndex.value + 1) % images.length\r\n    }, 4000)\r\n\r\n    // Google SDK\r\n    const googleScript = document.createElement('script')\r\n    googleScript.src = 'https://accounts.google.com/gsi/client'\r\n    googleScript.async = true\r\n    googleScript.defer = true\r\n    document.head.appendChild(googleScript)\r\n\r\n    googleScript.onload = () => {\r\n      window.google.accounts.id.initialize({\r\n        client_id: '351177417132-r5tq1fs5729agapblj6gpmsh0f230f36.apps.googleusercontent.com',\r\n        callback: handleCredentialResponse\r\n      })\r\n      window.google.accounts.id.renderButton(\r\n        document.getElementById('g_id_signin'),\r\n        {\r\n          theme: 'outline',\r\n          size: 'large',\r\n          text: 'signin_with'\r\n        }\r\n      )\r\n    }\r\n\r\n    // Facebook SDK\r\n    window.fbAsyncInit = function () {\r\n      FB.init({\r\n        appId: '2066643873763098',\r\n        cookie: true,\r\n        xfbml: true,\r\n        version: 'v12.0'\r\n      })\r\n    }\r\n\r\n    const fbScript = document.createElement('script')\r\n    fbScript.async = true\r\n    fbScript.defer = true\r\n    fbScript.crossOrigin = 'anonymous'\r\n    fbScript.src = 'https://connect.facebook.net/en_US/sdk.js'\r\n    document.head.appendChild(fbScript)\r\n  })\r\n\r\n  return {\r\n    email,\r\n    facebookName,\r\n    formEmail,\r\n    formPassword,\r\n    images,\r\n    currentImageIndex,\r\n    showPassword,\r\n    togglePassword,\r\n    emailLogin,\r\n    facebookLogin,\r\n  }\r\n}"],"names":[],"mappings":";;AAEO,SAAS,WAAW;AACnB,QAAA,QAAQ,IAAI,EAAE;AACd,QAAA,eAAe,IAAI,EAAE;AACrB,QAAA,YAAY,IAAI,EAAE;AAClB,QAAA,eAAe,IAAI,EAAE;AACrB,QAAA,eAAe,IAAI,KAAK;AAE9B,QAAM,SAAS;AAAA,IACb;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACM,QAAA,oBAAoB,IAAI,CAAC;AAE/B,QAAM,iBAAiB,MAAM;AACd,iBAAA,QAAQ,CAAC,aAAa;AAAA,EACrC;AAEA,QAAM,aAAa,MAAM;AACvB,QAAI,UAAU,UAAU,uBAAuB,aAAa,UAAU,YAAY;AAC1E,YAAA,QAAQ,oBAAoB,UAAU,KAAK;AACjD,mBAAa,QAAQ;AAAA,IAAA,OAChB;AACL,YAAM,0BAA0B;AAAA,IAAA;AAAA,EAEpC;AAQA,QAAM,gBAAgB,MAAM;AACvB,OAAA,MAAM,CAAC,aAAa;AACjB,UAAA,SAAS,WAAW,aAAa;AACnC,WAAG,IAAI,OAAO,EAAE,QAAQ,aAAa,GAAG,CAAC,aAAa;AACvC,uBAAA,QAAQ,uBAAuB,SAAS,IAAI;AACnD,gBAAA,QAAQ,UAAU,SAAS,KAAK;AAAA,QAAA,CACvC;AAAA,MAAA,OACI;AACL,qBAAa,QAAQ;AAAA,MAAA;AAAA,IACvB,GACC,EAAE,OAAO,SAAS;AAAA,EACvB;AA+CO,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;"}