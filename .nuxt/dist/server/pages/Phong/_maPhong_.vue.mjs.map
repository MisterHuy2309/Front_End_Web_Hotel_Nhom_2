{"version":3,"file":"_maPhong_.vue.mjs","sources":["../../../../../pages/Phong/[maPhong].vue"],"sourcesContent":["<!-- Trang M·∫°nh Code xin ƒë·ª´ng ƒë·ªông v√†o -->\r\n<template>\r\n  <header>\r\n      <TheHeader />\r\n    </header> \r\n  <div :class=\"['room-details-container', { 'dark-mode': theme.isDarkMode }]\">\r\n    <div class=\"room-gallery\">\r\n      <!-- ·∫¢nh ch√≠nh -->\r\n      <div class=\"main-image\" @click=\"openImage(0)\">\r\n        <img :src=\"images[0]\" alt=\"·∫¢nh ch√≠nh\" class=\"gallery-img\" />\r\n      </div>\r\n      <!-- ·∫¢nh ph·ª• -->\r\n      <div class=\"sub-images\">\r\n        <div class=\"sub-image\" v-for=\"(img, index) in subImages\" :key=\"index\" @click=\"openImage(index + 1)\">\r\n          <img :src=\"img\" alt=\"'·∫¢nh ph·ª• ' + (index + 1)\" class=\"gallery-img\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal ph√≥ng to -->\r\n    <div v-if=\"isImageModalOpen\" class=\"image-modal\" @click.self=\"closeImage\">\r\n      <div class=\"modal-content\">\r\n        <img :src=\"images[currentSlide]\" alt=\"Ph√≥ng to ·∫£nh\" class=\"modal-img zoom-img\" />\r\n        <va-button color=\"danger\" class=\"close-button\" @click=\"closeImage\">X</va-button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Th√¥ng tin ph√≤ng -->\r\n    <va-card class=\"room-info\" outlined>\r\n      <div class=\"info-content\">\r\n        <h1 class=\"room-title\">{{ room.loaiPhong }} (M√£: {{ room.maPhong }})</h1>\r\n        <p><strong>üíµ Gi√°:</strong> {{ room.giaPhong }} VND</p>\r\n        <p><strong>üè¢ T·∫ßng:</strong> {{ room.tang }}</p>\r\n        <p><strong>üõèÔ∏è Ki·ªÉu gi∆∞·ªùng:</strong> {{ room.kieuGiuong }}</p>\r\n        <p><strong>üìù M√¥ t·∫£:</strong> {{ room.moTa }}</p>\r\n        <p><strong>üì∂ Ti·ªán nghi:</strong> {{ room.tienNghiList.join(', ') }}</p>\r\n        <p>\r\n          <strong>üî• Tr·∫°ng th√°i:</strong>\r\n          <span :class=\"room.tinhTrang === '1' ? 'status-available' : 'status-unavailable'\">\r\n            {{ room.tinhTrang === '1' ? 'C√≤n tr·ªëng' : 'ƒê√£ ƒë·∫∑t' }}\r\n          </span>\r\n        </p>\r\n      </div>\r\n\r\n      <div class=\"actions\">\r\n        <va-button\r\n          :disabled=\"room.tinhTrang !== '1'\"\r\n          color=\"primary\"\r\n          class=\"book-button\"\r\n        >\r\n          <nuxt-link\r\n            :to=\"{\r\n              name: 'DatPhong',\r\n              params: { maPhong: room.maPhong }\r\n            }\"\r\n            class=\"link-inside-button\"\r\n          >\r\n            üì© ƒê·∫∑t ph√≤ng\r\n          </nuxt-link>\r\n        </va-button>\r\n        <va-button color=\"secondary\" class=\"share-button\" @click=\"shareRoom\">\r\n          üì§ Chia s·∫ª ph√≤ng\r\n        </va-button>\r\n        <nuxt-link to=\"/Phong\" class=\"back-button\">Quay l·∫°i danh s√°ch ph√≤ng</nuxt-link>\r\n      </div>\r\n    </va-card>\r\n  </div>\r\n\r\n  <!-- Loading -->\r\n  <va-loading v-if=\"loading\" />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { useNuxtApp } from '#app'\r\nimport { useThemeStore } from '@/store/DarkMode'\r\n\r\nconst theme = useThemeStore()\r\ntheme.initializeDarkMode()\r\n\r\nconst room = ref({ tienNghiList: [] })\r\nconst loading = ref(true)\r\nconst error = ref(null)\r\n\r\nconst route = useRoute()\r\nconst { $api } = useNuxtApp()\r\n\r\nconst maPhong = route.params.maPhong\r\n import TheHeader from '../Components/Header.vue'\r\nconst images = ref([])\r\nconst subImages = ref([])\r\nconst currentSlide = ref(0)\r\nconst isImageModalOpen = ref(false)\r\n\r\nonMounted(async () => {\r\n  try {\r\n    const response = await $api.get(`http://nhom2webkhachsan.runasp.net/api/PhongWithTienNghi/${maPhong}`)\r\n    if (response.data) {\r\n      room.value = {\r\n        ...response.data,\r\n        tienNghiList: JSON.parse(response.data.tienNghi)\r\n      }\r\n      images.value = [\r\n        response.data.urlAnhChinh,\r\n        response.data.urlAnhPhu1,\r\n        response.data.urlAnhPhu2\r\n      ].filter(Boolean)\r\n\r\n      subImages.value = images.value.slice(1) // ·∫£nh ph·ª• l√† t·ª´ index 1 tr·ªü ƒëi\r\n    } else {\r\n      error.value = 'Kh√¥ng t√¨m th·∫•y th√¥ng tin cho m√£ ph√≤ng n√†y.'\r\n    }\r\n  } catch (err) {\r\n    error.value = `L·ªói: ${err.message}`\r\n    console.error('L·ªói:', err)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n})\r\n\r\nconst openImage = (index) => {\r\n  currentSlide.value = index\r\n  isImageModalOpen.value = true\r\n}\r\n\r\nconst closeImage = () => {\r\n  isImageModalOpen.value = false\r\n}\r\n\r\nconst shareRoom = async () => {\r\n  const link = window.location.href\r\n  try {\r\n    await navigator.clipboard.writeText(link)\r\n    alert('üì§ ƒê√£ sao ch√©p link ph√≤ng v√†o clipboard!')\r\n  } catch (err) {\r\n    alert('‚ùå Sao ch√©p th·∫•t b·∫°i, vui l√≤ng th·ª≠ l·∫°i.')\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.room-details-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  padding: 20px;\r\n  justify-content: center;\r\n  align-items: stretch;\r\n  transition: background-color 0.3s, color 0.3s;\r\n}\r\n\r\n.room-details-container.dark-mode {\r\n  background-color: #2c3e50;\r\n  color: #f0f0f0;\r\n}\r\n\r\n.room-gallery {\r\n  flex: 1;\r\n  display: flex;\r\n  min-height: 500px;\r\n  max-width: 600px;\r\n  overflow: hidden;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.main-image {\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n.sub-images {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.sub-image {\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n.gallery-img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  cursor: pointer;\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.gallery-img:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n/* Modal ph√≥ng to */\r\n.image-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  position: relative;\r\n}\r\n\r\n.modal-img {\r\n  max-width: 100vw;\r\n  max-height: 90vh;\r\n  width: auto;\r\n  height: auto;\r\n  border-radius: 10px;\r\n  object-fit: contain;\r\n}\r\n\r\n.zoom-img {\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.zoom-img:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.close-button {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n}\r\n\r\n/* Th√¥ng tin ph√≤ng */\r\n.room-info {\r\n  flex: 1;\r\n  max-width: 500px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  background-color: #e0b3ff; /* M√†u t√≠m nh·∫°t */\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n  transition: background-color 0.3s, color 0.3s;\r\n}\r\n\r\n.room-details-container.dark-mode .room-info {\r\n  background-color: #6a1b9a; /* M√†u t√≠m ƒë·∫≠m cho Dark Mode */\r\n  color: #f0f0f0;\r\n}\r\n\r\n.info-content {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.room-title {\r\n  font-size: 1.8rem;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n  color: #2c3e50;\r\n  border-bottom: 2px solid #4caf50;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.room-details-container.dark-mode .room-title {\r\n  color: #000000;\r\n}\r\n\r\n.status-available {\r\n  color: green;\r\n  font-weight: bold;\r\n}\r\n\r\n.status-unavailable {\r\n  color: red;\r\n  font-weight: bold;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.book-button, .share-button {\r\n  width: 100%;\r\n}\r\n\r\n.back-button {\r\n  text-align: center;\r\n  display: block;\r\n  padding: 10px 15px;\r\n  background-color: #6c757d;\r\n  color: white;\r\n  text-decoration: none;\r\n  border-radius: 5px;\r\n  font-size: 1rem;\r\n  transition: background-color 0.3s, transform 0.2s;\r\n}\r\n\r\n.back-button:hover {\r\n  background-color: #5a6268;\r\n  transform: scale(1.05);\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 768px) {\r\n  .room-details-container {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n\r\n  .room-gallery,\r\n  .room-info {\r\n    max-width: 100%;\r\n  }\r\n\r\n  .room-gallery {\r\n    flex-direction: column;\r\n    min-height: auto;\r\n  }\r\n\r\n  .sub-images {\r\n    flex-direction: row;\r\n  }\r\n\r\n  .sub-image {\r\n    flex: 1;\r\n  }\r\n}\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AA8EA,UAAM,QAAQ,cAAc;AAC5B,UAAM,mBAAmB;AAEzB,UAAM,OAAO,IAAI,EAAE,cAAc,IAAI;AAC/B,UAAA,UAAU,IAAI,IAAI;AACV,QAAI,IAAI;AAEtB,UAAM,QAAQ,SAAS;AACjB,UAAA,EAAE,KAAK,IAAI,WAAW;AAEZ,UAAM,OAAO;AAEvB,UAAA,SAAS,IAAI,EAAE;AACf,UAAA,YAAY,IAAI,EAAE;AAClB,UAAA,eAAe,IAAI,CAAC;AACpB,UAAA,mBAAmB,IAAI,KAAK;AAiClC,UAAM,aAAa,MAAM;AACvB,uBAAiB,QAAQ;AAAA,IAC3B;AAEA,UAAM,YAAY,YAAY;AACtB,YAAA,gBAAc,SAAS;AACzB,UAAA;AACI,cAAA,SAAU,UAAU,UAAU,IAAI;AACxC,cAAM,0CAA0C;AAAA,eACzC,KAAK;AACZ,cAAM,wCAAwC;AAAA,MAAA;AAAA,IAElD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}