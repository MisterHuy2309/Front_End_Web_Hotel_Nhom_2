{"file":"Check-in-outconfirmation.vue.mjs","mappings":";;;;;;;;;;;;;;;;AAmEA,UAAM,EAAE,KAAM,IAAG,WAAY;AAE7B,UAAM,YAAY,IAAI,QAAQ;AAC9B,UAAM,SAAS,IAAI,gDAAgD,UAAU,KAAK,EAAE;AACpF,UAAM,iBAAiB,SAAS,MAAM;AACpC,YAAM,aAAa,oBAAI,KAAM;AAC7B,iBAAW,WAAW,WAAW,WAAU,IAAK,EAAE;AAClD,aAAO,WAAW,mBAAoB;AAAA,IACxC,CAAC;AAED,UAAM,QAAQ,SAAU;AACT,cAAW;AAE1B,UAAM,gBAAgB,YAAY;AAChC,UAAI;AACF,cAAM,WAAW,MAAM,KAAK,KAAK,gBAAgB,UAAU,KAAK,EAAE;AAClE,YAAI,SAAS,WAAW,KAAK;AAC3B,gBAAM,QAAQ,wBAAwB,EAAE,UAAU,IAAI,CAAE;AAAA,QAC9D,OAAW;AACL,gBAAM,MAAM,sBAAsB,EAAE,UAAU,IAAI,CAAE;AAAA,QACrD;AAAA,MACF,SAAQ,OAAO;AACd,cAAM,MAAM,qBAAqB,EAAE,UAAU,IAAI,CAAE;AAAA,MACpD;AAAA,IACH;AAEA,UAAM,iBAAiB,YAAY;AACjC,UAAI;AACF,cAAM,WAAW,MAAM,KAAK,KAAK,iBAAiB,UAAU,KAAK,EAAE;AACnE,YAAI,SAAS,WAAW,KAAK;AAC3B,gBAAM,QAAQ,yBAAyB,EAAE,UAAU,IAAI,CAAE;AAAA,QAC/D,OAAW;AACL,gBAAM,MAAM,uBAAuB,EAAE,UAAU,IAAI,CAAE;AAAA,QACtD;AAAA,MACF,SAAQ,OAAO;AACd,cAAM,MAAM,sBAAsB,EAAE,UAAU,IAAI,CAAE;AAAA,MACrD;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["../../../../pages/Check-in-outconfirmation.vue"],"sourcesContent":["<!-- Trang Mạnh Code xin đừng động vào  -->\r\n<!-- Trang Mạnh Code xin đừng động vào  -->\r\n<!-- Trang Mạnh Code xin đừng động vào  -->\r\n<!-- Trang Mạnh Code xin đừng động vào  -->\r\n<!-- Trang Mạnh Code xin đừng động vào  -->\r\n<!-- Trang Mạnh Code xin đừng động vào  -->\r\n<!-- Trang Mạnh Code xin đừng động vào  -->\r\n\r\n\r\n<template>\r\n  <div class=\"check-in-check-out\">\r\n    <h1>Xác nhận Check-in / Check-out</h1>\r\n\r\n    <!-- Ghi chú -->\r\n    <div class=\"notes\">\r\n      <p><strong>Ghi chú:</strong> Vui lòng quét mã QR để xác nhận check-in hoặc check-out. Mã QR có hiệu lực trong vòng 30 phút kể từ lúc tạo.</p>\r\n    </div>\r\n\r\n    <el-row :gutter=\"20\">\r\n      <!-- Phòng -->\r\n      <el-col :span=\"8\">\r\n        <div class=\"room-info\">\r\n          <img\r\n            src=\"https://i.pinimg.com/474x/c5/7d/17/c57d17ca6d5b5e3616f578a2b4887da7.jpg\"\r\n            alt=\"Room Image\"\r\n            class=\"room-image\"\r\n          />\r\n          <div class=\"room-details\">\r\n            <h3>Phòng: Deluxe Suite</h3>\r\n            <p>Tầng: 5</p>\r\n            <p>Giá: 2,000,000 VND</p>\r\n            <p>ID Phòng: 123456</p>\r\n            <p>Người đặt: John Doe</p>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n\r\n      <!-- QR -->\r\n      <el-col :span=\"16\">\r\n        <div class=\"qr-info\">\r\n          <h3>Thông tin mã QR</h3>\r\n          <p>Mã QR có hiệu lực trong vòng 30 phút kể từ lúc tạo.</p>\r\n\r\n          <!-- Mã QR -->\r\n          <vue-qrcode :value=\"qrData\" class=\"qrcode\" />\r\n\r\n          <!-- Thời gian hết hạn -->\r\n          <p><strong>Thời gian hết hạn:</strong> {{ expirationTime }}</p>\r\n\r\n          <div class=\"action-buttons\">\r\n            <el-button type=\"primary\" @click=\"handleCheckIn\">Check-in</el-button>\r\n            <el-button type=\"danger\" @click=\"handleCheckOut\">Check-out</el-button>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport VueQrcode from '@chenfengyuan/vue-qrcode'\r\nimport { ElButton, ElRow, ElCol } from 'element-plus'\r\nimport { useToast } from 'vuestic-ui'\r\nimport { useRouter } from 'vue-router'\r\nimport { useNuxtApp } from '#app'\r\n\r\nconst { $api } = useNuxtApp()\r\n\r\nconst bookingId = ref('123456') // ID đặt phòng\r\nconst qrData = ref(`https://hotel-booking-system.com/api/checkin/${bookingId.value}`)\r\nconst expirationTime = computed(() => {\r\n  const expiration = new Date()\r\n  expiration.setMinutes(expiration.getMinutes() + 30)\r\n  return expiration.toLocaleTimeString()\r\n})\r\n\r\nconst toast = useToast()\r\nconst router = useRouter()\r\n\r\nconst handleCheckIn = async () => {\r\n  try {\r\n    const response = await $api.post(`/api/checkin/${bookingId.value}`)\r\n    if (response.status === 200) {\r\n      toast.success('Check-in thành công!', { duration: 3000 })\r\n    } else {\r\n      toast.error('Check-in thất bại!', { duration: 3000 })\r\n    }\r\n  } catch (error) {\r\n    toast.error('Lỗi khi check-in!', { duration: 3000 })\r\n  }\r\n}\r\n\r\nconst handleCheckOut = async () => {\r\n  try {\r\n    const response = await $api.post(`/api/checkout/${bookingId.value}`)\r\n    if (response.status === 200) {\r\n      toast.success('Check-out thành công!', { duration: 3000 })\r\n    } else {\r\n      toast.error('Check-out thất bại!', { duration: 3000 })\r\n    }\r\n  } catch (error) {\r\n    toast.error('Lỗi khi check-out!', { duration: 3000 })\r\n  }\r\n}\r\n\r\n// Tự động cập nhật trạng thái khi quét mã QR\r\nonMounted(() => {\r\n  const interval = setInterval(() => {\r\n    // Giả lập trạng thái quét mã QR\r\n    const isScanned = Math.random() > 0.5 // 50% xác suất quét thành công\r\n    if (isScanned) {\r\n      toast.info('Mã QR đã được quét thành công!', { duration: 3000 })\r\n      clearInterval(interval) // Dừng kiểm tra sau khi quét thành công\r\n\r\n      // Chuyển đến trang xác nhận\r\n      router.push('/xac-nhan') // Thay '/xac-nhan' bằng đường dẫn trang xác nhận của bạn\r\n    }\r\n  }, 5000) // Kiểm tra mỗi 5 giây\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.check-in-check-out {\r\n  padding: 20px;\r\n}\r\n\r\n.notes {\r\n  margin-bottom: 20px;\r\n  background-color: #f9f9f9;\r\n  padding: 10px;\r\n  border-left: 5px solid #007bff;\r\n  border-radius: 5px;\r\n}\r\n\r\n.room-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n\r\n.room-image {\r\n  width: 80%; /* Thu nhỏ ảnh */\r\n  height: auto;\r\n  border-radius: 8px;\r\n}\r\n\r\n.room-details {\r\n  margin-top: 20px;\r\n}\r\n\r\n.qr-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.qrcode {\r\n  margin: 20px 0;\r\n  width: 200px;\r\n  height: 200px;\r\n}\r\n\r\n.action-buttons {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n}\r\n</style>\r\n"],"version":3}