{"file":"phong.vue.mjs","mappings":";;;;;;;;;;;;;;;;;AA8HA,UAAM,aAAa,cAAa;AAChC,UAAM,gBAAgB,iBAAgB;AAEtC,UAAM,QAAQ,IAAI,CAAA,CAAE;AACpB,UAAM,gBAAgB,IAAI,CAAA,CAAE;AAC5B,UAAM,UAAU,IAAI,IAAI;AACxB,UAAM,QAAQ,IAAI,IAAI;AACtB,UAAM,UAAU,IAAI,EAAE,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,MAAM,IAAI,WAAW,GAAI,CAAA;AAEzF,UAAM,EAAE,KAAI,IAAK;AAEjB,UAAM,eAAe,SAAS,MAAM;AAClC,YAAM,OAAO,cAAc;AAC3B,aAAO;AAAA,QACL,OAAO,SAAS,OAAO,oBAAoB;AAAA,QAC3C,QAAQ,SAAS,OAAO,aAAa;AAAA,QACrC,aAAa,SAAS,OAAO,kBAAkB;AAAA,QAC/C,UAAU,SAAS,OAAO,eAAe;AAAA,QACzC,eAAe,SAAS,OAAO,oBAAoB;AAAA,QACnD,UAAU,SAAS,OAAO,eAAe;AAAA,QACzC,eAAe,SAAS,OAAO,oBAAoB;AAAA,QACnD,OAAO,SAAS,OAAO,SAAS;AAAA,QAChC,YAAY,SAAS,OAAO,cAAc;AAAA,QAC1C,QAAQ,SAAS,OAAO,eAAe;AAAA,QACvC,KAAK,SAAS,OAAO,WAAW;AAAA,QAChC,WAAW,SAAS,OAAO,cAAc;AAAA,QACzC,QAAQ,SAAS,OAAO,WAAW;AAAA,QACnC,SAAS,SAAS,OAAO,iBAAiB;AAAA,QAC1C,UAAU,SAAS,OAAO,iBAAiB;AAAA,QAC3C,OAAO,SAAS,OAAO,QAAQ;AAAA,QAC/B,SAAS,SAAS,OAAO,gBAAgB;AAAA,QACzC,aAAa,SAAS,OAAO,iBAAiB;AAAA,QAC9C,WAAW,SAAS,OAAO,iBAAiB;AAAA,QAC5C,SAAS,SAAS,OAAO,wBAAwB;AAAA,MACrD;AAAA,IACA,CAAC;AAmBD,UAAM,cAAc,MAAM;AACxB,oBAAc,QAAQ,MAAM,MAAM,OAAO,UAAQ;AAC/C,gBACG,QAAQ,MAAM,UAAU,KAAK,QAAQ,SAAS,QAAQ,MAAM,OAAO,IAAI,UACvE,QAAQ,MAAM,YAAY,KAAK,UAAU,SAAS,QAAQ,MAAM,SAAS,IAAI,UAC7E,QAAQ,MAAM,WAAW,KAAK,YAAY,QAAQ,MAAM,WAAW,UACnE,QAAQ,MAAM,OAAO,KAAK,QAAQ,QAAQ,MAAM,OAAO,UACvD,QAAQ,MAAM,YAAY,KAAK,UAAU,SAAS,QAAQ,MAAM,SAAS,IAAI;AAAA,MAEpF,CAAG;AAAA,IACH;AAEA,UAAM,YAAY,CAAC,UAAU;AAC3B,oBAAc,QAAQ,cAAc,MAAM,KAAK,CAAC,GAAG,MAAM;AACvD,eAAO,UAAU,QAAQ,EAAE,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE;AAAA,MACtE,CAAG;AAAA,IACH;AAEA,UAAM,YAAY,CAAC,SAAS;AAC1B,YAAM,GAAG,aAAa,MAAM,SAAS,KAAK,KAAK,SAAS,EAAE;AAAA,IAC5D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["../../../../pages/phong.vue"],"sourcesContent":["<template>\r\n  <header>\r\n    <TheHeader />\r\n  </header>\r\n  <div :class=\"['container', { 'dark-mode': themeStore.isDarkMode }]\">\r\n    <h1 class=\"header\">{{ translations.title }}</h1>\r\n\r\n    <!-- Form lọc -->\r\n    <va-card outlined class=\"filter-form\">\r\n      <div class=\"filter-group\">\r\n        <label for=\"maPhong\">{{ translations.roomId }}:</label>\r\n        <va-input\r\n          id=\"maPhong\"\r\n          v-model=\"filters.maPhong\"\r\n          :placeholder=\"translations.enterRoomId\"\r\n          outlined\r\n          @input=\"filterRooms\"\r\n        />\r\n      </div>\r\n      <div class=\"filter-group\">\r\n        <label for=\"loaiPhong\">{{ translations.roomType }}:</label>\r\n        <va-input\r\n          id=\"loaiPhong\"\r\n          v-model=\"filters.loaiPhong\"\r\n          :placeholder=\"translations.enterRoomType\"\r\n          outlined\r\n          @input=\"filterRooms\"\r\n        />\r\n      </div>\r\n      <div class=\"filter-group\">\r\n        <label for=\"giaPhong\">{{ translations.maxPrice }}:</label>\r\n        <va-input\r\n          id=\"giaPhong\"\r\n          v-model=\"filters.giaPhong\"\r\n          :placeholder=\"translations.enterMaxPrice\"\r\n          outlined\r\n          type=\"number\"\r\n          @input=\"filterRooms\"\r\n        />\r\n      </div>\r\n      <div class=\"filter-group\">\r\n        <label for=\"tang\">{{ translations.floor }}:</label>\r\n        <va-input\r\n          id=\"tang\"\r\n          v-model=\"filters.tang\"\r\n          :placeholder=\"translations.enterFloor\"\r\n          outlined\r\n          type=\"number\"\r\n          @input=\"filterRooms\"\r\n        />\r\n      </div>\r\n      <div class=\"filter-group\">\r\n        <label for=\"trangThai\">{{ translations.status }}:</label>\r\n        <va-select\r\n          id=\"trangThai\"\r\n          v-model=\"filters.trangThai\"\r\n          :options=\"[\r\n            { value: '', label: translations.all },\r\n            { value: 'Còn trống', label: translations.available },\r\n            { value: 'Đã đặt', label: translations.booked },\r\n          ]\"\r\n          outlined\r\n          @change=\"filterRooms\"\r\n        />\r\n      </div>\r\n      <div class=\"filter-actions\">\r\n        <va-button color=\"primary\" @click=\"sortRooms('asc')\">{{ translations.sortAsc }}</va-button>\r\n        <va-button color=\"primary\" @click=\"sortRooms('desc')\">{{ translations.sortDesc }}</va-button>\r\n      </div>\r\n    </va-card>\r\n\r\n    <!-- Loading Skeleton -->\r\n    <VaInnerLoading :loading=\"loading\" color=\"danger\" type=\"rectangle-bounce\">\r\n      <div v-if=\"error\" class=\"error-message\">\r\n        Lỗi: {{ error }}\r\n      </div>\r\n\r\n      <!-- Danh sách phòng -->\r\n      <div v-else-if=\"filteredRooms.length\" class=\"services-grid\">\r\n        <va-card\r\n          v-for=\"room in filteredRooms\"\r\n          :key=\"room.maPhong\"\r\n          class=\"room-card\"\r\n          outlined\r\n        >\r\n          <img :src=\"room.urlAnhChinh\" alt=\"Hình ảnh phòng\" class=\"room-image\" />\r\n          <va-card-title>\r\n            <div class=\"room-title\">{{ room.loaiPhong }}</div>\r\n          </va-card-title>\r\n          <va-card-content>\r\n            <p class=\"room-price\">{{ translations.price }}: <strong>{{ room.giaPhong.toLocaleString() }} VND</strong></p>\r\n            <p class=\"room-floor\">{{ translations.floor }}: {{ room.tang }}</p>\r\n            <p class=\"room-bed-type\">{{ translations.bedType }}: {{ room.kieuGiuong }}</p>\r\n            <span\r\n              class=\"room-status\"\r\n              :class=\"room.trangThai === 'Còn trống' ? 'available' : 'booked'\"\r\n            >\r\n              {{ room.trangThai === 'Còn trống' ? translations.available : translations.booked }}\r\n            </span>\r\n          </va-card-content>\r\n          <va-card-actions>\r\n            <nuxt-link :to=\"`/phong/${room.maPhong}`\" class=\"view-details\">\r\n              <va-button color=\"primary\">{{ translations.viewDetails }}</va-button>\r\n            </nuxt-link>\r\n            <va-button color=\"success\" @click=\"addToCart(room)\">{{ translations.addToCart }}</va-button>\r\n          </va-card-actions>\r\n        </va-card>\r\n      </div>\r\n\r\n      <!-- Nếu không có phòng -->\r\n      <VaAlert v-else v-if=\"!loading\" type=\"info\" class=\"no-services\">\r\n        {{ translations.noRooms }}\r\n      </VaAlert>\r\n    </VaInnerLoading>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport { useNuxtApp } from '#app';\r\nimport { useThemeStore } from '~/store/DarkMode';\r\nimport { useLanguageStore } from '~/store/Language';\r\nimport TheHeader from '../Components/Header.vue';\r\nimport TheFooter from '../Components/Footer.vue';\r\nimport { VaInnerLoading, VaCard, VaCardTitle, VaCardContent, VaCardActions, VaButton, VaInput, VaSelect, VaAlert } from 'vuestic-ui';\r\n\r\nconst themeStore = useThemeStore();\r\nconst languageStore = useLanguageStore();\r\n\r\nconst rooms = ref([]);\r\nconst filteredRooms = ref([]);\r\nconst loading = ref(true);\r\nconst error = ref(null);\r\nconst filters = ref({ maPhong: '', loaiPhong: '', giaPhong: '', tang: '', trangThai: '' });\r\n\r\nconst { $api } = useNuxtApp();\r\n\r\nconst translations = computed(() => {\r\n  const lang = languageStore.currentLanguage;\r\n  return {\r\n    title: lang === 'vn' ? 'Danh Sách Phòng' : 'Room List',\r\n    roomId: lang === 'vn' ? 'Mã phòng' : 'Room ID',\r\n    enterRoomId: lang === 'vn' ? 'Nhập mã phòng' : 'Enter Room ID',\r\n    roomType: lang === 'vn' ? 'Loại phòng' : 'Room Type',\r\n    enterRoomType: lang === 'vn' ? 'Nhập loại phòng' : 'Enter Room Type',\r\n    maxPrice: lang === 'vn' ? 'Giá tối đa' : 'Max Price',\r\n    enterMaxPrice: lang === 'vn' ? 'Nhập giá tối đa' : 'Enter Max Price',\r\n    floor: lang === 'vn' ? 'Tầng' : 'Floor',\r\n    enterFloor: lang === 'vn' ? 'Nhập tầng' : 'Enter Floor',\r\n    status: lang === 'vn' ? 'Trạng thái' : 'Status',\r\n    all: lang === 'vn' ? 'Tất cả' : 'All',\r\n    available: lang === 'vn' ? 'Còn trống' : 'Available',\r\n    booked: lang === 'vn' ? 'Đã đặt' : 'Booked',\r\n    sortAsc: lang === 'vn' ? 'Giá tăng dần' : 'Sort Ascending',\r\n    sortDesc: lang === 'vn' ? 'Giá giảm dần' : 'Sort Descending',\r\n    price: lang === 'vn' ? 'Giá' : 'Price',\r\n    bedType: lang === 'vn' ? 'Kiểu giường' : 'Bed Type',\r\n    viewDetails: lang === 'vn' ? 'Xem Chi Tiết' : 'View Details',\r\n    addToCart: lang === 'vn' ? 'Thêm vào giỏ' : 'Add to Cart',\r\n    noRooms: lang === 'vn' ? 'Không có phòng nào.' : 'No rooms available.',\r\n  };\r\n});\r\n\r\nonMounted(async () => {\r\n  themeStore.initializeDarkMode();\r\n  try {\r\n    const response = await $api.get('/PhongWithTienNghi');\r\n    if (Array.isArray(response.data)) {\r\n      rooms.value = response.data;\r\n      filteredRooms.value = response.data;\r\n    } else {\r\n      error.value = 'Dữ liệu trả về không đúng định dạng';\r\n    }\r\n  } catch (err) {\r\n    error.value = err.message;\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n});\r\n\r\nconst filterRooms = () => {\r\n  filteredRooms.value = rooms.value.filter(room => {\r\n    return (\r\n      (filters.value.maPhong ? room.maPhong.includes(filters.value.maPhong) : true) &&\r\n      (filters.value.loaiPhong ? room.loaiPhong.includes(filters.value.loaiPhong) : true) &&\r\n      (filters.value.giaPhong ? room.giaPhong <= filters.value.giaPhong : true) &&\r\n      (filters.value.tang ? room.tang == filters.value.tang : true) &&\r\n      (filters.value.trangThai ? room.trangThai.includes(filters.value.trangThai) : true)\r\n    );\r\n  });\r\n};\r\n\r\nconst sortRooms = (order) => {\r\n  filteredRooms.value = filteredRooms.value.sort((a, b) => {\r\n    return order === 'asc' ? a.giaPhong - b.giaPhong : b.giaPhong - a.giaPhong;\r\n  });\r\n};\r\n\r\nconst addToCart = (room) => {\r\n  alert(`${translations.value.addToCart}: ${room.loaiPhong}`);\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  padding: 20px;\r\n}\r\n\r\n.header {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.dark-mode-switch {\r\n  text-align: right;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filter-form {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  margin-bottom: 20px;\r\n  background-color: #f9f9f9;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.filter-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n  flex: 1 1 calc(20% - 20px);\r\n}\r\n\r\n.filter-group label {\r\n  font-weight: bold;\r\n}\r\n\r\n.filter-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n  flex: 1 1 100%;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.services-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 20px;\r\n}\r\n\r\n.room-card {\r\n  border: 2px solid #ccc;\r\n  border-radius: 10px;\r\n  padding: 15px;\r\n  text-align: center;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.room-card:hover {\r\n  transform: translateY(-5px);\r\n}\r\n\r\n.room-image {\r\n  width: 100%;\r\n  height: 200px;\r\n  object-fit: cover;\r\n  border-radius: 5px;\r\n}\r\n\r\n.room-status {\r\n  margin-top: 10px;\r\n  font-weight: bold;\r\n}\r\n\r\n.room-status.available {\r\n  color: green;\r\n}\r\n\r\n.room-status.booked {\r\n  color: red;\r\n}\r\n\r\n/* Dark Mode Styles */\r\n.container.dark-mode {\r\n  background-color: #2c3e50;\r\n  color: #f0f0f0;\r\n}\r\n\r\n.container.dark-mode .filter-form {\r\n  background-color: #34495e;\r\n}\r\n\r\n.container.dark-mode .room-card {\r\n  background-color: #34495e;\r\n  color: #f0f0f0;\r\n  border: 1px solid #555;\r\n}\r\n\r\n.container.dark-mode .room-status.available {\r\n  color: #2ecc71;\r\n}\r\n\r\n.container.dark-mode .room-status.booked {\r\n  color: #e74c3c;\r\n}\r\n</style>"],"version":3}