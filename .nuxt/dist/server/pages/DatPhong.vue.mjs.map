{"version":3,"file":"DatPhong.vue.mjs","sources":["../../../../pages/DatPhong.vue"],"sourcesContent":["<template>\r\n   <header>\r\n      <TheHeader />\r\n    </header>\r\n    <div class=\"booking-page\">\r\n      <!-- B√™n tr√°i: Th√¥ng tin ph√≤ng -->\r\n      <div class=\"room-info\">\r\n        <va-card outlined class=\"room-card\">\r\n          <div v-if=\"loading\" class=\"loading-container\">\r\n            <va-loading />\r\n          </div>\r\n          <div v-else>\r\n            <h2 class=\"room-title\">{{ roomData.loaiPhong }}</h2>\r\n            <p><strong>M√£ ph√≤ng:</strong> {{ roomData.maPhong }}</p>\r\n            <p><strong>Gi√°:</strong> {{ roomData.giaPhong.toLocaleString() }} VND</p>\r\n            <p><strong>T·∫ßng:</strong> {{ roomData.tang }}</p>\r\n            <p><strong>Ki·ªÉu gi∆∞·ªùng:</strong> {{ roomData.kieuGiuong }}</p>\r\n            <p><strong>M√¥ t·∫£:</strong> {{ roomData.moTa }}</p>\r\n            \r\n            <!-- Ti·ªán nghi -->\r\n            <div class=\"amenities\">\r\n              <h3>üì∂ Ti·ªán nghi:</h3>\r\n              <ul>\r\n                <li v-for=\"(amenity, index) in parsedAmenities\" :key=\"index\" class=\"amenity-item\">\r\n                  <img :src=\"getAmenityIcon(amenity)\" alt=\"icon\" class=\"amenity-icon\" />\r\n                  <span class=\"amenity-text\">{{ amenity }}</span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n  \r\n            <!-- Tr·∫°ng th√°i -->\r\n            <p>\r\n              <strong>üî• Tr·∫°ng th√°i:</strong>\r\n              <span\r\n                :class=\"roomData.tinhTrang === '1' ? 'status-available' : 'status-unavailable'\"\r\n              >\r\n                {{ roomData.tinhTrang === '1' ? 'C√≤n tr·ªëng' : 'ƒê√£ ƒë·∫∑t' }}\r\n              </span>\r\n            </p>\r\n          </div>\r\n        </va-card>\r\n      </div>\r\n  \r\n      <!-- B√™n ph·∫£i: Form ƒë·∫∑t ph√≤ng -->\r\n      <div class=\"booking-form-container\">\r\n        <va-card outlined class=\"booking-form\">\r\n          <h2 class=\"form-title\">ƒê·∫∑t Ph√≤ng</h2>\r\n  \r\n          <!-- S·ªë CCCD -->\r\n          <div class=\"form-group\">\r\n            <va-input\r\n              v-model=\"bookingData.cccd\"\r\n              label=\"S·ªë CCCD *\"\r\n              placeholder=\"Nh·∫≠p s·ªë CCCD\"\r\n              outlined\r\n              required\r\n            />\r\n          </div>\r\n  \r\n          <!-- S·ªë ƒêi·ªán Tho·∫°i -->\r\n          <div class=\"form-group\">\r\n            <va-input\r\n              v-model=\"bookingData.sdt\"\r\n              label=\"S·ªë ƒêi·ªán Tho·∫°i *\"\r\n              placeholder=\"Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i\"\r\n              outlined\r\n              required\r\n            />\r\n          </div>\r\n  \r\n          <!-- Ng√†y Nh·∫≠n Ph√≤ng -->\r\n          <div class=\"form-group\">\r\n            <va-input\r\n              v-model=\"bookingData.ngayNhan\"\r\n              label=\"Ng√†y Nh·∫≠n Ph√≤ng *\"\r\n              placeholder=\"YYYY-MM-DD\"\r\n              outlined\r\n              required\r\n              type=\"date\"\r\n            />\r\n          </div>\r\n  \r\n          <!-- Ng√†y Tr·∫£ Ph√≤ng -->\r\n          <div class=\"form-group\">\r\n            <va-input\r\n              v-model=\"bookingData.ngayTra\"\r\n              label=\"Ng√†y Tr·∫£ Ph√≤ng *\"\r\n              placeholder=\"YYYY-MM-DD\"\r\n              outlined\r\n              required\r\n              type=\"date\"\r\n            />\r\n          </div>\r\n  \r\n          <!-- S·ªë Ng∆∞·ªùi -->\r\n          <div class=\"form-group\">\r\n            <label class=\"counter-label\">S·ªë Ng∆∞·ªùi L·ªõn *</label>\r\n            <VaCounter\r\n              v-model=\"bookingData.soNguoiLon\"\r\n              :min=\"1\"\r\n              :max=\"10\"\r\n              decrease-button-text=\"-\"\r\n              increase-button-text=\"+\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"counter-label\">S·ªë Tr·∫ª Em *</label>\r\n            <VaCounter\r\n              v-model=\"bookingData.soTreEm\"\r\n              :min=\"0\"\r\n              :max=\"10\"\r\n              decrease-button-text=\"-\"\r\n              increase-button-text=\"+\"\r\n            />\r\n          </div>\r\n  \r\n          <!-- Y√™u c·∫ßu ƒë·∫∑c bi·ªát -->\r\n          <div class=\"form-group\">\r\n            <va-input\r\n              v-model=\"bookingData.yeuCau\"\r\n              label=\"Y√™u c·∫ßu c·ªßa b·∫°n\"\r\n              type=\"textarea\"\r\n              placeholder=\"Nh·∫≠p c√°c y√™u c·∫ßu ƒë·∫∑c bi·ªát (n·∫øu c√≥)\"\r\n              outlined\r\n            />\r\n          </div>\r\n  \r\n          <!-- N√∫t X√°c Nh·∫≠n -->\r\n          <div class=\"form-actions\">\r\n            <va-button\r\n              color=\"primary\"\r\n              class=\"submit-button\"\r\n              :disabled=\"!roomData.tinhTrang === '1'\"\r\n              @click=\"submitBooking\"\r\n            >\r\n              X√°c Nh·∫≠n ƒê·∫∑t Ph√≤ng\r\n            </va-button>\r\n          </div>\r\n        </va-card>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  \r\n  <script setup>\r\n  import { ref, onMounted } from 'vue'\r\n  import { useRoute } from 'vue-router'\r\n  import { useNuxtApp } from '#app'\r\n  \r\n  const bookingData = ref({\r\n    cccd: '',\r\n    sdt: '',\r\n    ngayNhan: '',\r\n    ngayTra: '',\r\n    soNguoiLon: 1,\r\n    soTreEm: 0,\r\n    yeuCau: ''\r\n  })\r\n  \r\n  const roomData = ref({\r\n    tienNghiList: []\r\n  })\r\n  const loading = ref(true)\r\n  const route = useRoute()\r\n  const { $api } = useNuxtApp()\r\n  const maPhong = route.params.maPhong\r\n  \r\n  // L·∫•y d·ªØ li·ªáu ph√≤ng t·ª´ API\r\n  onMounted(async () => {\r\n    try {\r\n      const response = await $api.get(`http://nhom2webkhachsan.runasp.net/api/PhongWithTienNghi/${maPhong}`)\r\n      if (response.data) {\r\n        roomData.value = {\r\n          ...response.data,\r\n          tienNghiList: JSON.parse(response.data.tienNghi)\r\n        }\r\n      } else {\r\n        console.error('Kh√¥ng t√¨m th·∫•y th√¥ng tin ph√≤ng.')\r\n      }\r\n    } catch (error) {\r\n      console.error('L·ªói:', error)\r\n    } finally {\r\n      loading.value = false\r\n    }\r\n  })\r\n  \r\n  // H√†m l·∫•y icon ti·ªán nghi\r\n  const getAmenityIcon = (amenity) => {\r\n    const icons = {\r\n      \"M√°y l·∫°nh\": \"https://cdn-icons-png.flaticon.com/512/606/606792.png\",\r\n      \"Tivi\": \"https://cdn-icons-png.flaticon.com/512/5110/5110853.png\",\r\n      \"Wifi mi·ªÖn ph√≠\": \"https://cdn-icons-png.flaticon.com/512/2957/2957496.png\",\r\n      \"Minibar\": \"https://cdn-icons-png.flaticon.com/512/1511/1511863.png\",\r\n      \"B·ªô tr√†/c√† ph√™\": \"https://cdn-icons-png.flaticon.com/512/892/892668.png\",\r\n      \"Tivi 55 inch\": \"https://cdn-icons-png.flaticon.com/512/1762/1762766.png\"\r\n    }\r\n    return icons[amenity] || \"https://cdn-icons-png.flaticon.com/512/565/565547.png\"\r\n  }\r\n  \r\n  // X·ª≠ l√Ω danh s√°ch ti·ªán nghi\r\n  const parsedAmenities = ref([])\r\n  onMounted(() => {\r\n    parsedAmenities.value = roomData.value.tienNghiList || []\r\n  })\r\n  \r\n  // Submit form\r\n  const submitBooking = () => {\r\n    if (!bookingData.value.cccd || !bookingData.value.sdt || !bookingData.value.ngayNhan || !bookingData.value.ngayTra) {\r\n      alert('‚ùå Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin!')\r\n      return\r\n    }\r\n    alert('üéâ ƒê·∫∑t ph√≤ng th√†nh c√¥ng!')\r\n    console.log('D·ªØ li·ªáu ƒë·∫∑t ph√≤ng:', bookingData.value)\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .booking-page {\r\n    display: flex;\r\n    gap: 20px;\r\n    padding: 20px;\r\n  }\r\n  \r\n  .room-info {\r\n    flex: 1;\r\n  }\r\n  \r\n  .booking-form-container {\r\n    flex: 1;\r\n  }\r\n  \r\n  .room-card,\r\n  .booking-form {\r\n    padding: 20px;\r\n    border-radius: 10px;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .room-title {\r\n    font-size: 1.5rem;\r\n    font-weight: bold;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .amenities {\r\n    margin-top: 15px;\r\n  }\r\n  \r\n  .amenity-item {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 10px;\r\n  }\r\n  \r\n  .amenity-icon {\r\n    width: 24px;\r\n    height: 24px;\r\n    margin-right: 10px;\r\n  }\r\n  \r\n  .status-available {\r\n    color: green;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .status-unavailable {\r\n    color: red;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .counter-label {\r\n    font-weight: bold;\r\n    margin-bottom: 5px;\r\n    display: block;\r\n  }\r\n  \r\n  .submit-button {\r\n    width: 100%;\r\n  }\r\n  \r\n  .loading-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 200px;\r\n  }\r\n  </style>\r\n  "],"names":[],"mappings":";;;;;;;;;;;;;AAqJE,UAAM,cAAc,IAAI;AAAA,MACtB,MAAM;AAAA,MACN,KAAK;AAAA,MACL,UAAU;AAAA,MACV,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,SAAS;AAAA,MACT,QAAQ;AAAA,IACZ,CAAG;AAED,UAAM,WAAW,IAAI;AAAA,MACnB,cAAc,CAAE;AAAA,IACpB,CAAG;AACD,UAAM,UAAU,IAAI,IAAI;AACxB,UAAM,QAAQ,SAAU;AACxB,UAAM,EAAE,KAAM,IAAG,WAAY;AACb,UAAM,OAAO;AAsB7B,UAAM,iBAAiB,CAAC,YAAY;AAClC,YAAM,QAAQ;AAAA,QACZ,YAAY;AAAA,QACZ,QAAQ;AAAA,QACR,iBAAiB;AAAA,QACjB,WAAW;AAAA,QACX,iBAAiB;AAAA,QACjB,gBAAgB;AAAA,MACjB;AACD,aAAO,MAAM,OAAO,KAAK;AAAA,IAC1B;AAGD,UAAM,kBAAkB,IAAI,EAAE;AAM9B,UAAM,gBAAgB,MAAM;AAC1B,UAAI,CAAC,YAAY,MAAM,QAAQ,CAAC,YAAY,MAAM,OAAO,CAAC,YAAY,MAAM,YAAY,CAAC,YAAY,MAAM,SAAS;AAClH,cAAM,mCAAmC;AACzC;AAAA,MACD;AACD,YAAM,0BAA0B;AAChC,cAAQ,IAAI,sBAAsB,YAAY,KAAK;AAAA,IACpD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}