import{_ as N}from"./CyEkhvWZ.js";import{f as S,z as B,r as h,l as L,m as M,g as w,c as p,a as l,b as i,t,w as u,h as r,n as k,F as V,o as d,V as f,A as $,B as P,d as v,C as D,j as E,k as x,D as F,E as G,G as U,p as z,H,I as K}from"./BYeJzb1c.js";import{T as j}from"./6FPvD6G_.js";import{_ as W}from"./DlAUqK2U.js";const X={class:"header"},q={class:"filter-group"},J={for:"maPhong"},O={class:"filter-group"},Q={for:"loaiPhong"},Y={class:"filter-group"},Z={for:"giaPhong"},ee={class:"filter-group"},ae={for:"tang"},oe={class:"filter-group"},le={for:"trangThai"},ne={class:"filter-actions"},te={key:0,class:"error-message"},se={key:1,class:"services-grid"},re=["src"],ie={class:"room-title"},ue={class:"room-price"},de={class:"room-floor"},ge={class:"room-bed-type"},ve={__name:"phong",setup(ce){const y=S(),I=B(),b=h([]),g=h([]),T=h(!0),m=h(null),n=h({maPhong:"",loaiPhong:"",giaPhong:"",tang:"",trangThai:""}),{$api:R}=L(),a=M(()=>{const e=I.currentLanguage;return{title:e==="vn"?"Danh Sách Phòng":"Room List",roomId:e==="vn"?"Mã phòng":"Room ID",enterRoomId:e==="vn"?"Nhập mã phòng":"Enter Room ID",roomType:e==="vn"?"Loại phòng":"Room Type",enterRoomType:e==="vn"?"Nhập loại phòng":"Enter Room Type",maxPrice:e==="vn"?"Giá tối đa":"Max Price",enterMaxPrice:e==="vn"?"Nhập giá tối đa":"Enter Max Price",floor:e==="vn"?"Tầng":"Floor",enterFloor:e==="vn"?"Nhập tầng":"Enter Floor",status:e==="vn"?"Trạng thái":"Status",all:e==="vn"?"Tất cả":"All",available:e==="vn"?"Còn trống":"Available",booked:e==="vn"?"Đã đặt":"Booked",sortAsc:e==="vn"?"Giá tăng dần":"Sort Ascending",sortDesc:e==="vn"?"Giá giảm dần":"Sort Descending",price:e==="vn"?"Giá":"Price",bedType:e==="vn"?"Kiểu giường":"Bed Type",viewDetails:e==="vn"?"Xem Chi Tiết":"View Details",addToCart:e==="vn"?"Thêm vào giỏ":"Add to Cart",noRooms:e==="vn"?"Không có phòng nào.":"No rooms available."}});w(async()=>{y.initializeDarkMode();try{const e=await R.get("/PhongWithTienNghi");Array.isArray(e.data)?(b.value=e.data,g.value=e.data):m.value="Dữ liệu trả về không đúng định dạng"}catch(e){m.value=e.message}finally{T.value=!1}});const c=()=>{g.value=b.value.filter(e=>(n.value.maPhong?e.maPhong.includes(n.value.maPhong):!0)&&(n.value.loaiPhong?e.loaiPhong.includes(n.value.loaiPhong):!0)&&(n.value.giaPhong?e.giaPhong<=n.value.giaPhong:!0)&&(n.value.tang?e.tang==n.value.tang:!0)&&(n.value.trangThai?e.trangThai.includes(n.value.trangThai):!0))},C=e=>{g.value=g.value.sort((s,_)=>e==="asc"?s.giaPhong-_.giaPhong:_.giaPhong-s.giaPhong)},A=e=>{alert(`${a.value.addToCart}: ${e.loaiPhong}`)};return(e,s)=>{const _=N;return d(),p(V,null,[l("header",null,[i(j)]),l("div",{class:k(["container",{"dark-mode":r(y).isDarkMode}])},[l("h1",X,t(a.value.title),1),i(r(D),{outlined:"",class:"filter-form"},{default:u(()=>[l("div",q,[l("label",J,t(a.value.roomId)+":",1),i(r(f),{id:"maPhong",modelValue:n.value.maPhong,"onUpdate:modelValue":s[0]||(s[0]=o=>n.value.maPhong=o),placeholder:a.value.enterRoomId,outlined:"",onInput:c},null,8,["modelValue","placeholder"])]),l("div",O,[l("label",Q,t(a.value.roomType)+":",1),i(r(f),{id:"loaiPhong",modelValue:n.value.loaiPhong,"onUpdate:modelValue":s[1]||(s[1]=o=>n.value.loaiPhong=o),placeholder:a.value.enterRoomType,outlined:"",onInput:c},null,8,["modelValue","placeholder"])]),l("div",Y,[l("label",Z,t(a.value.maxPrice)+":",1),i(r(f),{id:"giaPhong",modelValue:n.value.giaPhong,"onUpdate:modelValue":s[2]||(s[2]=o=>n.value.giaPhong=o),placeholder:a.value.enterMaxPrice,outlined:"",type:"number",onInput:c},null,8,["modelValue","placeholder"])]),l("div",ee,[l("label",ae,t(a.value.floor)+":",1),i(r(f),{id:"tang",modelValue:n.value.tang,"onUpdate:modelValue":s[3]||(s[3]=o=>n.value.tang=o),placeholder:a.value.enterFloor,outlined:"",type:"number",onInput:c},null,8,["modelValue","placeholder"])]),l("div",oe,[l("label",le,t(a.value.status)+":",1),i(r($),{id:"trangThai",modelValue:n.value.trangThai,"onUpdate:modelValue":s[4]||(s[4]=o=>n.value.trangThai=o),options:[{value:"",label:a.value.all},{value:"Còn trống",label:a.value.available},{value:"Đã đặt",label:a.value.booked}],outlined:"",onChange:c},null,8,["modelValue","options"])]),l("div",ne,[i(r(P),{color:"primary",onClick:s[5]||(s[5]=o=>C("asc"))},{default:u(()=>[v(t(a.value.sortAsc),1)]),_:1}),i(r(P),{color:"primary",onClick:s[6]||(s[6]=o=>C("desc"))},{default:u(()=>[v(t(a.value.sortDesc),1)]),_:1})])]),_:1}),i(r(K),{loading:T.value,color:"danger",type:"rectangle-bounce"},{default:u(()=>[m.value?(d(),p("div",te," Lỗi: "+t(m.value),1)):g.value.length?(d(),p("div",se,[(d(!0),p(V,null,E(g.value,o=>(d(),x(r(D),{key:o.maPhong,class:"room-card",outlined:""},{default:u(()=>[l("img",{src:o.urlAnhChinh,alt:"Hình ảnh phòng",class:"room-image"},null,8,re),i(r(F),null,{default:u(()=>[l("div",ie,t(o.loaiPhong),1)]),_:2},1024),i(r(G),null,{default:u(()=>[l("p",ue,[v(t(a.value.price)+": ",1),l("strong",null,t(o.giaPhong.toLocaleString())+" VND",1)]),l("p",de,t(a.value.floor)+": "+t(o.tang),1),l("p",ge,t(a.value.bedType)+": "+t(o.kieuGiuong),1),l("span",{class:k(["room-status",o.trangThai==="Còn trống"?"available":"booked"])},t(o.trangThai==="Còn trống"?a.value.available:a.value.booked),3)]),_:2},1024),i(r(U),null,{default:u(()=>[i(_,{to:`/phong/${o.maPhong}`,class:"view-details"},{default:u(()=>[i(r(P),{color:"primary"},{default:u(()=>[v(t(a.value.viewDetails),1)]),_:1})]),_:2},1032,["to"]),i(r(P),{color:"success",onClick:he=>A(o)},{default:u(()=>[v(t(a.value.addToCart),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))])):(d(),p(V,{key:2},[T.value?z("",!0):(d(),x(r(H),{key:0,type:"info",class:"no-services"},{default:u(()=>[v(t(a.value.noRooms),1)]),_:1}))],64))]),_:1},8,["loading"])],2)],64)}}},Pe=W(ve,[["__scopeId","data-v-b14486ec"]]);export{Pe as default};
